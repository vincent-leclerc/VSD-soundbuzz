{% extends "base.html.twig" %}


{% block javascripts %}

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
    <script type="text/javascript">
       // ----- On render -----
$(function() {

  $('#profile').addClass('dragging').removeClass('dragging');
});

$('#profile').on('dragover', function() {
  $('#profile').addClass('dragging')
}).on('dragleave', function() {
  $('#profile').removeClass('dragging')
}).on('drop', function(e) {
  $('#profile').removeClass('dragging hasImage');

  if (e.originalEvent) {
    var file = e.originalEvent.dataTransfer.files[0];
    console.log(file);

    var reader = new FileReader();

    //attach event handlers here...

    reader.readAsDataURL(file);
    reader.onload = function(e) {
      console.log(reader.result);
      $('#profile').css('background-image', 'url(' + reader.result + ')').addClass('hasImage');

    }

  }
})
$('#profile').on('click', function(e) {
  console.log('clicked')
  $('#mediaFile').click();
});
window.addEventListener("dragover", function(e) {
  e = e || event;
  e.preventDefault();
}, false);
window.addEventListener("drop", function(e) {
  e = e || event;
  e.preventDefault();
}, false);
$('#mediaFile').change(function(e) {

  var input = e.target;
  if (input.files && input.files[0]) {
    var file = input.files[0];

    var reader = new FileReader();

    reader.readAsDataURL(file);
    reader.onload = function(e) {
      console.log(reader.result);
      $('#profile').css('background-image', 'url(' + reader.result + ')').addClass('hasImage');
    }
  }
})
    </script>
{% endblock %}
{% block body %}
        <link rel="stylesheet" href="{{ asset('build/app.css') }}" type="text/css"/>




<form class="form-regis">

<div class="">
  <div class="">
    <div class="">
      <div id="profile">
        <div class="dashes"></div>
        <label>Click to browse or drag an image here</label></div>
      <div class="editable"><i class="fa fa-pencil"></i><h1 contenteditable>Drew Vosburg</h1></div>
    
    </div>
  </div>
</div>
<input type="file" id="mediaFile" />

  <label class="label-regis">
    <p class="label-txt">Nom d'utilisateur</p>
    <input type="text" class="input">
    <div class="line-box">
      <div class="line"></div>
    </div>
  </label>
    <label class="label-regis">
    <p class="label-txt">Mot de passe actuel</p>
    <input type="date" class="input">
    <div class="line-box">
      <div class="line"></div>
    </div>
  </label>
  <label class="label-regis">
    <p class="label-txt">Nouveau mot de passe</p>
    <input type="text" class="input">
    <div class="line-box">
      <div class="line"></div>
    </div>
  </label>
  
  <button  class="button-regis" type="submit">Envoyer</button>
</form>
<div class="img-footer">
    <img src="{{ asset('build/images/logo.svg') }}" height="100" width = "100" alt="logo SoundBuzz footer">
</div>
<div>
    <p class="footer"> soundbuzz depuis 2002 </p>

</div>
{% endblock %}